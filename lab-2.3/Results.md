
  

## mutex

  

### `list_size = 100`

  

```text

[MUTEX] init list with 100 nodes
Actual list length: 100
[MUTEX] stats: iters: asc=26 desc=19 eq=2  last_pairs: asc=46 desc=52 eq=0  swaps: asc=0 desc=0 eq=1
[MUTEX] stats: iters: asc=31962 desc=32204 eq=32341  last_pairs: asc=47 desc=50 eq=1  swaps: asc=20917 desc=20923 eq=41573
[MUTEX] stats: iters: asc=65678 desc=66388 eq=66478  last_pairs: asc=50 desc=47 eq=3  swaps: asc=43065 desc=43198 eq=85466
[MUTEX] stats: iters: asc=98443 desc=99229 eq=99392  last_pairs: asc=49 desc=46 eq=3  swaps: asc=64763 desc=64715 eq=128103
[MUTEX] stats: iters: asc=130644 desc=131377 eq=131660  last_pairs: asc=48 desc=52 eq=1  swaps: asc=85559 desc=86161 eq=170250
[MUTEX] stats: iters: asc=164557 desc=164503 eq=165360  last_pairs: asc=48 desc=50 eq=1  swaps: asc=107912 desc=107934 eq=214671
[MUTEX] stats: iters: asc=198429 desc=198299 eq=199592  last_pairs: asc=47 desc=51 eq=2  swaps: asc=129969 desc=130468 eq=258938
[MUTEX] stats: iters: asc=230662 desc=230649 eq=232300  last_pairs: asc=52 desc=48 eq=0  swaps: asc=151309 desc=151878 eq=301386
[MUTEX] stats: iters: asc=264624 desc=264127 eq=265999  last_pairs: asc=53 desc=46 eq=0  swaps: asc=173304 desc=173656 eq=345583
[MUTEX] stats: iters: asc=297871 desc=298363 eq=299758  last_pairs: asc=49 desc=50 eq=1  swaps: asc=195320 desc=195702 eq=390109
[MUTEX] stats: iters: asc=332196 desc=332708 eq=334208  last_pairs: asc=50 desc=48 eq=1  swaps: asc=218064 desc=218446 eq=434957
[MUTEX] stats: iters: asc=365798 desc=366028 eq=368266  last_pairs: asc=50 desc=48 eq=1  swaps: asc=240104 desc=240268 eq=478523
[MUTEX] stats: iters: asc=398956 desc=399328 eq=400934  last_pairs: asc=44 desc=52 eq=3  swaps: asc=261904 desc=261919 eq=521825
[MUTEX] stats: iters: asc=431031 desc=431614 eq=433006  last_pairs: asc=50 desc=49 eq=0  swaps: asc=282795 desc=283128 eq=563525
[MUTEX] stats: iters: asc=463209 desc=464202 eq=465662  last_pairs: asc=47 desc=51 eq=3  swaps: asc=303805 desc=304237 eq=605715
```

  

### `list_size = 1000`

  

```text

[MUTEX] init list with 1000 nodes
Actual list length: 1000
[MUTEX] stats: iters: asc=5 desc=4 eq=2  last_pairs: asc=507 desc=480 eq=12  swaps: asc=3 desc=0 eq=1
[MUTEX] stats: iters: asc=6499 desc=6501 eq=6478  last_pairs: asc=489 desc=493 eq=17  swaps: asc=6562 desc=6397 eq=13009
[MUTEX] stats: iters: asc=15105 desc=15093 eq=15091  last_pairs: asc=488 desc=485 eq=26  swaps: asc=15652 desc=15429 eq=31049
[MUTEX] stats: iters: asc=23257 desc=23227 eq=23232  last_pairs: asc=481 desc=498 eq=22  swaps: asc=24349 desc=23904 eq=47990
[MUTEX] stats: iters: asc=31048 desc=31022 eq=31027  last_pairs: asc=510 desc=477 eq=13  swaps: asc=32428 desc=31953 eq=64367
[MUTEX] stats: iters: asc=39864 desc=39825 eq=39847  last_pairs: asc=470 desc=508 eq=20  swaps: asc=41508 desc=41162 eq=82627
[MUTEX] stats: iters: asc=48668 desc=48616 eq=48654  last_pairs: asc=489 desc=492 eq=18  swaps: asc=50575 desc=50349 eq=100972
[MUTEX] stats: iters: asc=58113 desc=58058 eq=58098  last_pairs: asc=503 desc=479 eq=18  swaps: asc=60408 desc=60211 eq=120713
[MUTEX] stats: iters: asc=68240 desc=68195 eq=68224  last_pairs: asc=503 desc=474 eq=22  swaps: asc=71083 desc=70881 eq=141904
[MUTEX] stats: iters: asc=77577 desc=77550 eq=77573  last_pairs: asc=501 desc=478 eq=20  swaps: asc=80688 desc=80712 eq=161244
[MUTEX] stats: iters: asc=87854 desc=87820 eq=87820  last_pairs: asc=498 desc=473 eq=26  swaps: asc=91316 desc=91397 eq=182547
[MUTEX] stats: iters: asc=95528 desc=95467 eq=95501  last_pairs: asc=491 desc=493 eq=15  swaps: asc=99487 desc=99464 eq=198723
[MUTEX] stats: iters: asc=105551 desc=105500 eq=105529  last_pairs: asc=499 desc=483 eq=17  swaps: asc=110159 desc=109854 eq=219752
[MUTEX] stats: iters: asc=114761 desc=114723 eq=114759  last_pairs: asc=498 desc=480 eq=21  swaps: asc=119749 desc=119362 eq=239075
[MUTEX] stats: iters: asc=125481 desc=125450 eq=125485  last_pairs: asc=476 desc=503 eq=20  swaps: asc=130976 desc=130590 eq=261392

```

  

### `list_size = 10000`

  

```text

[MUTEX] init list with 10000 nodes
Actual list length: 10000
[MUTEX] stats: iters: asc=0 desc=0 eq=0  last_pairs: asc=0 desc=0 eq=0  swaps: asc=0 desc=0 eq=0
[MUTEX] stats: iters: asc=1326 desc=1327 eq=1329  last_pairs: asc=4931 desc=4863 eq=206  swaps: asc=1653 desc=1663 eq=3232
[MUTEX] stats: iters: asc=2689 desc=2696 eq=2696  last_pairs: asc=4946 desc=4849 eq=203  swaps: asc=3279 desc=3291 eq=6471
[MUTEX] stats: iters: asc=4093 desc=4100 eq=4100  last_pairs: asc=4912 desc=4884 eq=203  swaps: asc=4865 desc=4974 eq=9697
[MUTEX] stats: iters: asc=5522 desc=5531 eq=5530  last_pairs: asc=4922 desc=4880 eq=197  swaps: asc=6553 desc=6635 eq=13104
[MUTEX] stats: iters: asc=7046 desc=7054 eq=7054  last_pairs: asc=4915 desc=4904 eq=180  swaps: asc=8367 desc=8467 eq=16776
[MUTEX] stats: iters: asc=8447 desc=8454 eq=8453  last_pairs: asc=4926 desc=4879 eq=194  swaps: asc=10067 desc=10160 eq=20247
[MUTEX] stats: iters: asc=9881 desc=9888 eq=9886  last_pairs: asc=4896 desc=4914 eq=186  swaps: asc=11823 desc=11925 eq=23801
[MUTEX] stats: iters: asc=11326 desc=11333 eq=11332  last_pairs: asc=4882 desc=4911 eq=206  swaps: asc=13575 desc=13743 eq=27290
[MUTEX] stats: iters: asc=12747 desc=12756 eq=12753  last_pairs: asc=4901 desc=4896 eq=203  swaps: asc=15339 desc=15404 eq=30767
[MUTEX] stats: iters: asc=14132 desc=14141 eq=14139  last_pairs: asc=4911 desc=4895 eq=193  swaps: asc=17059 desc=17146 eq=34115
[MUTEX] stats: iters: asc=15579 desc=15588 eq=15586  last_pairs: asc=4881 desc=4916 eq=202  swaps: asc=18765 desc=18871 eq=37585
[MUTEX] stats: iters: asc=16980 desc=16988 eq=16988  last_pairs: asc=4880 desc=4909 eq=210  swaps: asc=20450 desc=20559 eq=40961
[MUTEX] stats: iters: asc=18362 desc=18371 eq=18366  last_pairs: asc=4880 desc=4917 eq=203  swaps: asc=22128 desc=22267 eq=44286
[MUTEX] stats: iters: asc=19682 desc=19691 eq=19686  last_pairs: asc=4948 desc=4861 eq=190  swaps: asc=23810 desc=23907 eq=47578

```

  

### `list_size = 100000`

  

```text

Actual list length: 100000

[MUTEX] init list with 100000 nodes
Actual list length: 100000
[MUTEX] stats: iters: asc=0 desc=0 eq=0  last_pairs: asc=0 desc=0 eq=0  swaps: asc=0 desc=0 eq=0
[MUTEX] stats: iters: asc=126 desc=126 eq=124  last_pairs: asc=48948 desc=49052 eq=1999  swaps: asc=165 desc=154 eq=336
[MUTEX] stats: iters: asc=264 desc=263 eq=262  last_pairs: asc=48962 desc=49034 eq=2003  swaps: asc=322 desc=324 eq=668
[MUTEX] stats: iters: asc=397 desc=394 eq=394  last_pairs: asc=48991 desc=49014 eq=1994  swaps: asc=501 desc=488 eq=990
[MUTEX] stats: iters: asc=550 desc=548 eq=547  last_pairs: asc=48991 desc=49016 eq=1992  swaps: asc=638 desc=666 eq=1342
[MUTEX] stats: iters: asc=703 desc=701 eq=700  last_pairs: asc=48951 desc=49056 eq=1992  swaps: asc=810 desc=852 eq=1691
[MUTEX] stats: iters: asc=842 desc=838 eq=839  last_pairs: asc=48962 desc=49036 eq=2001  swaps: asc=982 desc=1001 eq=2024
[MUTEX] stats: iters: asc=993 desc=989 eq=990  last_pairs: asc=48954 desc=49045 eq=2000  swaps: asc=1162 desc=1186 eq=2362
[MUTEX] stats: iters: asc=1138 desc=1133 eq=1132  last_pairs: asc=48959 desc=49047 eq=1996  swaps: asc=1313 desc=1353 eq=2681
[MUTEX] stats: iters: asc=1289 desc=1285 eq=1284  last_pairs: asc=48934 desc=49070 eq=1996  swaps: asc=1493 desc=1521 eq=3032
[MUTEX] stats: iters: asc=1419 desc=1416 eq=1415  last_pairs: asc=48910 desc=49098 eq=1990  swaps: asc=1655 desc=1708 eq=3372
[MUTEX] stats: iters: asc=1574 desc=1570 eq=1569  last_pairs: asc=48906 desc=49100 eq=1993  swaps: asc=1842 desc=1908 eq=3709
[MUTEX] stats: iters: asc=1724 desc=1721 eq=1719  last_pairs: asc=48950 desc=49050 eq=1999  swaps: asc=2009 desc=2083 eq=4097
[MUTEX] stats: iters: asc=1869 desc=1865 eq=1864  last_pairs: asc=48955 desc=49045 eq=2000  swaps: asc=2185 desc=2265 eq=4444
[MUTEX] stats: iters: asc=2017 desc=2014 eq=2013  last_pairs: asc=48983 desc=49013 eq=2003  swaps: asc=2377 desc=2428 eq=4778

```

  

### Выводы по mutex

  

При увеличении длины списка в 10 раз скорость роста счётчиков (*_iterations) падает примерно в 6–10 раз. Это ожидаемо, потому что одна итерация — это линейный проход O(N) с захватами/освобождением мьютексов на каждой паре соседей. При фиксированном времени число итераций падает примерно обратно пропорционально размеру списка.

  

Счётчики пар (*_last_pairs) показывает стабильные значения.

  

Счетчки (*_swaps) - одного порядка. Это говорит об отсутствие голодания: все три своппера успевают работать.

  
  

---

  

## spinlock

  

### `list_size = 100`

  

```text

[SPIN] init list with 100 nodes
Actual list length: 100
[SPIN] stats: iters: asc=35 desc=30 eq=5  last_pairs: asc=47 desc=49 eq=3  swaps: asc=6 desc=3 eq=11
[SPIN] stats: iters: asc=64417 desc=64380 eq=64401  last_pairs: asc=49 desc=48 eq=2  swaps: asc=53059 desc=53119 eq=106287
[SPIN] stats: iters: asc=129088 desc=129046 eq=129066  last_pairs: asc=51 desc=46 eq=2  swaps: asc=106940 desc=107042 eq=213046
[SPIN] stats: iters: asc=194707 desc=194684 eq=194416  last_pairs: asc=52 desc=46 eq=2  swaps: asc=161625 desc=161797 eq=321951
[SPIN] stats: iters: asc=260456 desc=260297 eq=260160  last_pairs: asc=51 desc=45 eq=4  swaps: asc=218464 desc=219006 eq=434685
[SPIN] stats: iters: asc=334202 desc=334036 eq=333840  last_pairs: asc=45 desc=53 eq=2  swaps: asc=280259 desc=280508 eq=556978
[SPIN] stats: iters: asc=407326 desc=407153 eq=406956  last_pairs: asc=51 desc=44 eq=5  swaps: asc=341271 desc=341582 eq=677902
[SPIN] stats: iters: asc=483457 desc=483271 eq=483077  last_pairs: asc=48 desc=49 eq=2  swaps: asc=403938 desc=404537 eq=802839
[SPIN] stats: iters: asc=557753 desc=557574 eq=557384  last_pairs: asc=52 desc=43 eq=4  swaps: asc=465938 desc=466276 eq=925799
[SPIN] stats: iters: asc=632431 desc=632248 eq=632047  last_pairs: asc=49 desc=48 eq=2  swaps: asc=527798 desc=528268 eq=1048365
[SPIN] stats: iters: asc=701740 desc=701561 eq=701362  last_pairs: asc=49 desc=48 eq=3  swaps: asc=585093 desc=585627 eq=1162174
[SPIN] stats: iters: asc=775596 desc=775425 eq=775182  last_pairs: asc=45 desc=50 eq=2  swaps: asc=646560 desc=646977 eq=1283168
[SPIN] stats: iters: asc=848022 desc=847868 eq=847642  last_pairs: asc=50 desc=46 eq=3  swaps: asc=706568 desc=707199 eq=1402783
[SPIN] stats: iters: asc=921320 desc=921161 eq=920962  last_pairs: asc=52 desc=46 eq=2  swaps: asc=768023 desc=768667 eq=1524377
[SPIN] stats: iters: asc=993763 desc=993606 eq=993418  last_pairs: asc=52 desc=47 eq=0  swaps: asc=828283 desc=828799 eq=1644068

```

  

### `list_size = 1000`

  

```text

[SPIN] init list with 1000 nodes
Actual list length: 1000
[SPIN] stats: iters: asc=1 desc=1 eq=0  last_pairs: asc=484 desc=498 eq=0  swaps: asc=2 desc=1 eq=0
[SPIN] stats: iters: asc=8524 desc=8520 eq=8500  last_pairs: asc=490 desc=495 eq=13  swaps: asc=7048 desc=6957 eq=13879
[SPIN] stats: iters: asc=16649 desc=16640 eq=16632  last_pairs: asc=498 desc=485 eq=18  swaps: asc=13601 desc=13487 eq=27067
[SPIN] stats: iters: asc=25452 desc=25443 eq=25436  last_pairs: asc=500 desc=479 eq=21  swaps: asc=20510 desc=20289 eq=40906
[SPIN] stats: iters: asc=33834 desc=33823 eq=33817  last_pairs: asc=494 desc=487 eq=18  swaps: asc=27086 desc=26757 eq=53957
[SPIN] stats: iters: asc=42816 desc=42808 eq=42804  last_pairs: asc=460 desc=515 eq=24  swaps: asc=34068 desc=33695 eq=67869
[SPIN] stats: iters: asc=51751 desc=51742 eq=51739  last_pairs: asc=509 desc=478 eq=12  swaps: asc=40862 desc=40609 eq=81594
[SPIN] stats: iters: asc=60792 desc=60784 eq=60781  last_pairs: asc=487 desc=497 eq=15  swaps: asc=47905 desc=47473 eq=95444
[SPIN] stats: iters: asc=69716 desc=69702 eq=69705  last_pairs: asc=485 desc=496 eq=18  swaps: asc=54847 desc=54306 eq=109239
[SPIN] stats: iters: asc=78614 desc=78597 eq=78602  last_pairs: asc=483 desc=494 eq=22  swaps: asc=61627 desc=61202 eq=122880
[SPIN] stats: iters: asc=87576 desc=87560 eq=87565  last_pairs: asc=476 desc=500 eq=23  swaps: asc=68399 desc=67969 eq=136643
[SPIN] stats: iters: asc=96452 desc=96430 eq=96439  last_pairs: asc=494 desc=482 eq=22  swaps: asc=75365 desc=74870 eq=150422
[SPIN] stats: iters: asc=105328 desc=105306 eq=105312  last_pairs: asc=498 desc=477 eq=24  swaps: asc=82244 desc=81828 eq=164132
[SPIN] stats: iters: asc=114348 desc=114326 eq=114332  last_pairs: asc=481 desc=498 eq=20  swaps: asc=89217 desc=88690 eq=178028
[SPIN] stats: iters: asc=123123 desc=123100 eq=123104  last_pairs: asc=492 desc=492 eq=15  swaps: asc=96132 desc=95532 eq=191487
```

  

### `list_size = 10000`

  

```text

[SPIN] init list with 10000 nodes
Actual list length: 10000
[SPIN] stats: iters: asc=0 desc=0 eq=0  last_pairs: asc=0 desc=0 eq=0  swaps: asc=0 desc=0 eq=0
[SPIN] stats: iters: asc=1138 desc=1130 eq=1138  last_pairs: asc=4849 desc=4943 eq=207  swaps: asc=1711 desc=1718 eq=3408
[SPIN] stats: iters: asc=2601 desc=2591 eq=2603  last_pairs: asc=4906 desc=4888 eq=206  swaps: asc=3649 desc=3657 eq=7240
[SPIN] stats: iters: asc=4120 desc=4110 eq=4125  last_pairs: asc=4881 desc=4902 eq=216  swaps: asc=5584 desc=5577 eq=11034
[SPIN] stats: iters: asc=5524 desc=5522 eq=5538  last_pairs: asc=4903 desc=4905 eq=192  swaps: asc=7548 desc=7400 eq=14814
[SPIN] stats: iters: asc=7072 desc=7069 eq=7088  last_pairs: asc=4911 desc=4896 eq=194  swaps: asc=9524 desc=9346 eq=18732
[SPIN] stats: iters: asc=8667 desc=8666 eq=8683  last_pairs: asc=4874 desc=4927 eq=197  swaps: asc=11614 desc=11381 eq=22811
[SPIN] stats: iters: asc=10297 desc=10296 eq=10313  last_pairs: asc=4905 desc=4885 eq=208  swaps: asc=13684 desc=13419 eq=26863
[SPIN] stats: iters: asc=11855 desc=11853 eq=11873  last_pairs: asc=4881 desc=4926 eq=194  swaps: asc=15644 desc=15366 eq=30822
[SPIN] stats: iters: asc=13302 desc=13301 eq=13322  last_pairs: asc=4896 desc=4901 eq=201  swaps: asc=17414 desc=17083 eq=34396
[SPIN] stats: iters: asc=14670 desc=14670 eq=14691  last_pairs: asc=4890 desc=4911 eq=195  swaps: asc=19092 desc=18839 eq=37811
[SPIN] stats: iters: asc=16236 desc=16236 eq=16256  last_pairs: asc=4870 desc=4909 eq=220  swaps: asc=21033 desc=20806 eq=41705
[SPIN] stats: iters: asc=17773 desc=17773 eq=17795  last_pairs: asc=4883 desc=4909 eq=208  swaps: asc=23017 desc=22710 eq=45568
[SPIN] stats: iters: asc=19330 desc=19331 eq=19353  last_pairs: asc=4873 desc=4927 eq=199  swaps: asc=25006 desc=24534 eq=49388
[SPIN] stats: iters: asc=20877 desc=20877 eq=20899  last_pairs: asc=4911 desc=4895 eq=192  swaps: asc=26950 desc=26414 eq=53232

```

  

### `list_size = 100000`

  

```text

[SPIN] init list with 100000 nodes
Actual list length: 100000
[SPIN] stats: iters: asc=0 desc=0 eq=0  last_pairs: asc=0 desc=0 eq=0  swaps: asc=0 desc=0 eq=0
[SPIN] stats: iters: asc=104 desc=103 eq=103  last_pairs: asc=48961 desc=48981 eq=2057  swaps: asc=153 desc=135 eq=310
[SPIN] stats: iters: asc=215 desc=212 eq=215  last_pairs: asc=48960 desc=48981 eq=2058  swaps: asc=296 desc=294 eq=635
[SPIN] stats: iters: asc=323 desc=322 eq=322  last_pairs: asc=48947 desc=49000 eq=2052  swaps: asc=452 desc=468 eq=965
[SPIN] stats: iters: asc=426 desc=426 eq=423  last_pairs: asc=48976 desc=48981 eq=2042  swaps: asc=617 desc=638 eq=1272
[SPIN] stats: iters: asc=548 desc=549 eq=545  last_pairs: asc=48969 desc=48985 eq=2045  swaps: asc=797 desc=800 eq=1616
[SPIN] stats: iters: asc=669 desc=669 eq=664  last_pairs: asc=48982 desc=48967 eq=2051  swaps: asc=966 desc=973 eq=1960
[SPIN] stats: iters: asc=792 desc=793 eq=786  last_pairs: asc=49001 desc=48938 eq=2059  swaps: asc=1165 desc=1127 eq=2318
[SPIN] stats: iters: asc=915 desc=917 eq=907  last_pairs: asc=48988 desc=48956 eq=2054  swaps: asc=1332 desc=1282 eq=2670
[SPIN] stats: iters: asc=1034 desc=1036 eq=1025  last_pairs: asc=49041 desc=48913 eq=2045  swaps: asc=1505 desc=1480 eq=3021
[SPIN] stats: iters: asc=1158 desc=1160 eq=1148  last_pairs: asc=49029 desc=48916 eq=2054  swaps: asc=1670 desc=1633 eq=3378
[SPIN] stats: iters: asc=1279 desc=1281 eq=1269  last_pairs: asc=49026 desc=48914 eq=2061  swaps: asc=1837 desc=1809 eq=3711
[SPIN] stats: iters: asc=1405 desc=1406 eq=1394  last_pairs: asc=49027 desc=48913 eq=2059  swaps: asc=2030 desc=1985 eq=4052
[SPIN] stats: iters: asc=1525 desc=1526 eq=1515  last_pairs: asc=49029 desc=48907 eq=2063  swaps: asc=2190 desc=2157 eq=4369
[SPIN] stats: iters: asc=1650 desc=1651 eq=1639  last_pairs: asc=49023 desc=48915 eq=2060  swaps: asc=2396 desc=2341 eq=4718

```

  

### Выводы по spinlock

  

При N=100 Spinlock показывает значительно большее число итераций, чем mutex и rwlock.  Это объясняется отсутствием переходов в ядро. При увеличении длины списка в 10 раз скорость роста счётчиков (*_iterations) падает примерно в 6–10 раз.

Счётчики пар (*_last_pairs) показывает стабильные значения. 

Счетчки (*_swaps) - одного порядка. Это говорит об отсутствие голодания: все три своппера успевают работать.

  

---

  

## rwlock

  

### `list_size = 100`

  

```text

[RWLOCK] init list with 100 nodes
Actual list length: 100
[RWLOCK] stats: iters: asc=35 desc=7 eq=6  last_pairs: asc=52 desc=43 eq=5  swaps: asc=4 desc=1 eq=0
[RWLOCK] stats: iters: asc=26464 desc=26819 eq=26451  last_pairs: asc=45 desc=51 eq=4  swaps: asc=19144 desc=19222 eq=37702
[RWLOCK] stats: iters: asc=52729 desc=52525 eq=52222  last_pairs: asc=50 desc=46 eq=4  swaps: asc=37688 desc=37668 eq=74957
[RWLOCK] stats: iters: asc=82301 desc=81841 eq=81553  last_pairs: asc=48 desc=51 eq=1  swaps: asc=58491 desc=58498 eq=117736
[RWLOCK] stats: iters: asc=112035 desc=112032 eq=111825  last_pairs: asc=53 desc=43 eq=4  swaps: asc=79781 desc=79479 eq=160227
[RWLOCK] stats: iters: asc=141469 desc=141683 eq=141594  last_pairs: asc=50 desc=48 eq=2  swaps: asc=100790 desc=100731 eq=202138
[RWLOCK] stats: iters: asc=171917 desc=172272 eq=172132  last_pairs: asc=49 desc=47 eq=3  swaps: asc=122482 desc=122397 eq=245191
[RWLOCK] stats: iters: asc=201555 desc=202168 eq=201844  last_pairs: asc=46 desc=54 eq=0  swaps: asc=143721 desc=143451 eq=287679
[RWLOCK] stats: iters: asc=230589 desc=231144 eq=230705  last_pairs: asc=48 desc=48 eq=3  swaps: asc=164491 desc=164185 eq=328976
[RWLOCK] stats: iters: asc=259599 desc=260635 eq=259736  last_pairs: asc=49 desc=47 eq=1  swaps: asc=185618 desc=185194 eq=370653
[RWLOCK] stats: iters: asc=289287 desc=290739 eq=289197  last_pairs: asc=52 desc=46 eq=0  swaps: asc=206827 desc=206552 eq=413349
[RWLOCK] stats: iters: asc=314474 desc=315858 eq=314476  last_pairs: asc=49 desc=48 eq=1  swaps: asc=224945 desc=224537 eq=449278
[RWLOCK] stats: iters: asc=336201 desc=337500 eq=336049  last_pairs: asc=49 desc=47 eq=3  swaps: asc=240334 desc=239907 eq=480354
[RWLOCK] stats: iters: asc=353990 desc=355516 eq=353796  last_pairs: asc=47 desc=49 eq=3  swaps: asc=253082 desc=252736 eq=505315
[RWLOCK] stats: iters: asc=374737 desc=376393 eq=374612  last_pairs: asc=48 desc=48 eq=2  swaps: asc=267945 desc=267369 eq=534844


```

  

### `list_size = 1000`

  

```text

[RWLOCK] init list with 1000 nodes
Actual list length: 1000
[RWLOCK] stats: iters: asc=6 desc=0 eq=1  last_pairs: asc=495 desc=0 eq=21  swaps: asc=3 desc=0 eq=0
[RWLOCK] stats: iters: asc=7275 desc=7669 eq=7283  last_pairs: asc=485 desc=482 eq=31  swaps: asc=7551 desc=7625 eq=15056
[RWLOCK] stats: iters: asc=14437 desc=15294 eq=14445  last_pairs: asc=501 desc=468 eq=29  swaps: asc=14959 desc=14904 eq=29736
[RWLOCK] stats: iters: asc=21895 desc=22852 eq=22164  last_pairs: asc=487 desc=487 eq=25  swaps: asc=22573 desc=22524 eq=44839
[RWLOCK] stats: iters: asc=28520 desc=29418 eq=28928  last_pairs: asc=497 desc=482 eq=19  swaps: asc=29160 desc=29110 eq=58057
[RWLOCK] stats: iters: asc=34830 desc=35992 eq=35196  last_pairs: asc=507 desc=474 eq=19  swaps: asc=35539 desc=35459 eq=70846
[RWLOCK] stats: iters: asc=42077 desc=43097 eq=42643  last_pairs: asc=503 desc=479 eq=17  swaps: asc=42970 desc=42785 eq=85810
[RWLOCK] stats: iters: asc=48886 desc=49916 eq=49641  last_pairs: asc=492 desc=489 eq=17  swaps: asc=49723 desc=49407 eq=99538
[RWLOCK] stats: iters: asc=55548 desc=56379 eq=56045  last_pairs: asc=490 desc=496 eq=15  swaps: asc=56271 desc=55965 eq=112562
[RWLOCK] stats: iters: asc=63380 desc=63943 eq=63590  last_pairs: asc=494 desc=490 eq=15  swaps: asc=63982 desc=63832 eq=127989
[RWLOCK] stats: iters: asc=70352 desc=70984 eq=70360  last_pairs: asc=499 desc=482 eq=18  swaps: asc=70806 desc=70637 eq=141711
[RWLOCK] stats: iters: asc=77468 desc=78033 eq=77369  last_pairs: asc=488 desc=487 eq=23  swaps: asc=78129 desc=77764 eq=155829
[RWLOCK] stats: iters: asc=83571 desc=84227 eq=83777  last_pairs: asc=502 desc=479 eq=18  swaps: asc=84132 desc=83808 eq=167921
[RWLOCK] stats: iters: asc=89702 desc=90206 eq=89685  last_pairs: asc=490 desc=487 eq=23  swaps: asc=89980 desc=89663 eq=179833
[RWLOCK] stats: iters: asc=96975 desc=97362 eq=96764  last_pairs: asc=480 desc=501 eq=17  swaps: asc=97007 desc=96748 eq=194134

```

  

### `list_size = 10000`

  

```text

[RWLOCK] init list with 10000 nodes
Actual list length: 10000
[RWLOCK] stats: iters: asc=0 desc=0 eq=0  last_pairs: asc=0 desc=0 eq=0  swaps: asc=0 desc=0 eq=0
[RWLOCK] stats: iters: asc=762 desc=784 eq=752  last_pairs: asc=4960 desc=4863 eq=173  swaps: asc=820 desc=849 eq=1650
[RWLOCK] stats: iters: asc=1572 desc=1612 eq=1551  last_pairs: asc=4948 desc=4875 eq=177  swaps: asc=1719 desc=1753 eq=3345
[RWLOCK] stats: iters: asc=2439 desc=2446 eq=2381  last_pairs: asc=4908 desc=4901 eq=190  swaps: asc=2560 desc=2600 eq=5131
[RWLOCK] stats: iters: asc=3309 desc=3304 eq=3264  last_pairs: asc=4897 desc=4911 eq=191  swaps: asc=3468 desc=3501 eq=6898
[RWLOCK] stats: iters: asc=4206 desc=4211 eq=4195  last_pairs: asc=4940 desc=4867 eq=192  swaps: asc=4414 desc=4465 eq=8722
[RWLOCK] stats: iters: asc=5087 desc=5137 eq=5115  last_pairs: asc=4904 desc=4896 eq=196  swaps: asc=5336 desc=5412 eq=10613
[RWLOCK] stats: iters: asc=5963 desc=6012 eq=6045  last_pairs: asc=4836 desc=4975 eq=188  swaps: asc=6304 desc=6312 eq=12506
[RWLOCK] stats: iters: asc=6882 desc=6935 eq=6959  last_pairs: asc=4858 desc=4937 eq=204  swaps: asc=7262 desc=7285 eq=14422
[RWLOCK] stats: iters: asc=7816 desc=7811 eq=7868  last_pairs: asc=4888 desc=4905 eq=208  swaps: asc=8225 desc=8210 eq=16292
[RWLOCK] stats: iters: asc=8786 desc=8680 eq=8733  last_pairs: asc=4887 desc=4938 eq=174  swaps: asc=9130 desc=9158 eq=18204
[RWLOCK] stats: iters: asc=9712 desc=9602 eq=9688  last_pairs: asc=4878 desc=4944 eq=177  swaps: asc=10075 desc=10086 eq=20110
[RWLOCK] stats: iters: asc=10706 desc=10497 eq=10561  last_pairs: asc=4882 desc=4953 eq=164  swaps: asc=11033 desc=11049 eq=21983
[RWLOCK] stats: iters: asc=11620 desc=11402 eq=11487  last_pairs: asc=4900 desc=4904 eq=194  swaps: asc=11969 desc=11977 eq=23811
[RWLOCK] stats: iters: asc=12480 desc=12273 eq=12451  last_pairs: asc=4905 desc=4898 eq=196  swaps: asc=12906 desc=12896 eq=25643

```

### `list_size = 100000`

  

```text

[RWLOCK] init list with 100000 nodes
Actual list length: 100000
[RWLOCK] stats: iters: asc=0 desc=0 eq=0  last_pairs: asc=0 desc=0 eq=0  swaps: asc=0 desc=0 eq=0
[RWLOCK] stats: iters: asc=74 desc=77 eq=75  last_pairs: asc=49078 desc=48968 eq=1953  swaps: asc=80 desc=81 eq=143
[RWLOCK] stats: iters: asc=157 desc=157 eq=155  last_pairs: asc=49093 desc=48945 eq=1961  swaps: asc=154 desc=159 eq=312
[RWLOCK] stats: iters: asc=238 desc=234 eq=229  last_pairs: asc=49088 desc=48954 eq=1957  swaps: asc=236 desc=239 eq=480
[RWLOCK] stats: iters: asc=318 desc=312 eq=309  last_pairs: asc=49060 desc=48983 eq=1956  swaps: asc=315 desc=324 eq=651
[RWLOCK] stats: iters: asc=406 desc=396 eq=390  last_pairs: asc=49050 desc=48987 eq=1963  swaps: asc=402 desc=419 eq=815
[RWLOCK] stats: iters: asc=481 desc=474 eq=471  last_pairs: asc=49063 desc=48964 eq=1972  swaps: asc=481 desc=493 eq=992
[RWLOCK] stats: iters: asc=563 desc=556 eq=555  last_pairs: asc=49048 desc=48991 eq=1960  swaps: asc=562 desc=577 eq=1155
[RWLOCK] stats: iters: asc=652 desc=641 eq=639  last_pairs: asc=49046 desc=48989 eq=1964  swaps: asc=649 desc=668 eq=1335
[RWLOCK] stats: iters: asc=734 desc=733 eq=716  last_pairs: asc=49045 desc=48990 eq=1967  swaps: asc=735 desc=752 eq=1502
[RWLOCK] stats: iters: asc=817 desc=820 eq=795  last_pairs: asc=49060 desc=48969 eq=1970  swaps: asc=821 desc=833 eq=1687
[RWLOCK] stats: iters: asc=900 desc=899 eq=883  last_pairs: asc=49059 desc=48977 eq=1963  swaps: asc=910 desc=909 eq=1844
[RWLOCK] stats: iters: asc=991 desc=986 eq=967  last_pairs: asc=49063 desc=48975 eq=1961  swaps: asc=1001 desc=1006 eq=2050
[RWLOCK] stats: iters: asc=1080 desc=1066 eq=1047  last_pairs: asc=49070 desc=48974 eq=1955  swaps: asc=1086 desc=1089 eq=2237
[RWLOCK] stats: iters: asc=1167 desc=1145 eq=1131  last_pairs: asc=49032 desc=49017 eq=1950  swaps: asc=1171 desc=1173 eq=2411
```

  

### Выводы по rwlock

  

Rwlock-вариант показывает меньшее количество завершённых проходов (*_iterations), чем mutex, несмотря на теоретическую возможность параллельного чтения. Причина в высокой стоимости операций rwlock и конфликте rdlock/wrlock: когда писатель запрашивает wrlock, новые читатели блокируются, пока он не получит эксклюзивный доступ. В условиях частых перестановок и малого числа потоков выигрыш от параллельных rdlock не компенсирует накладные расходы, поэтому итоговая скорость проходов оказывается ниже, чем у mutex. 

  
Счётчики пар (*_last_pairs) показывает стабильные значения.

  
Счетчки (*_swaps) - одного порядка. Это говорит об отсутствие голодания: все три своппера успевают работать.

  

---

  

## Итоговое сравнение mutex / spinlock / rwlock

  

### Зависимость от длины списка

  

Во всех трёх вариантах при увеличении длины списка в 10 раз скорость роста счётчиков *_iterations существенно падает. Это связано с линейной сложностью прохода по списку и большим количеством операций синхронизации на каждом шаге.

  

### Сравнение типов синхронизации

 
Spinlock показывает наилучшую производительность при малых размерах списка за счёт минимальных накладных расходов и отсутствия переходов в ядро, однако при росте `N` его преимущество исчезает из-за увеличения времени ожидания и нагрузки на CPU. Mutex демонстрирует стабильное и предсказуемое поведение на всех размерах списка, обеспечивая разумный баланс между накладными расходами и эффективным использованием процессора. Rwlock не даёт выигрыша в данной задаче из-за частых писателей: конфликты `rdlock/wrlock` и высокая стоимость операций синхронизации нивелируют потенциальное преимущество параллельного чтения. При больших `N` производительность всех трёх вариантов выравнивается и определяется линейным обходом списка, а не типом блокировки.

